<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css/css?family=LXGW+WenKai:300,300italic,400,400italic,700,700italic%7CMonaco:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.15.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="内置类型补充说明主要的内置类型有数字、序列、映射、类、实例和异常   有些多项集类是可变的。 它们用于添加、移除或重排其成员的方法将原地执行，并不返回特定的项，绝对不会返回多项集实例自身而是返回 None">
<meta property="og:type" content="article">
<meta property="og:title" content="Python3 学习笔记-3">
<meta property="og:url" content="http://example.com/2022/03/16/Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3/index.html">
<meta property="og:site_name" content="花祭的博客">
<meta property="og:description" content="内置类型补充说明主要的内置类型有数字、序列、映射、类、实例和异常   有些多项集类是可变的。 它们用于添加、移除或重排其成员的方法将原地执行，并不返回特定的项，绝对不会返回多项集实例自身而是返回 None">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-03-16T09:17:45.000Z">
<meta property="article:modified_time" content="2023-04-01T13:28:32.048Z">
<meta property="article:author" content="花祭">
<meta property="article:tag" content="Python3">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2022/03/16/Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2022/03/16/Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3/","path":"2022/03/16/Python3学习笔记-3/","title":"Python3 学习笔记-3"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Python3 学习笔记-3 | 花祭的博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">花祭的博客</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E"><span class="nav-number">1.</span> <span class="nav-text">内置类型补充说明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E5%80%BC%E6%A3%80%E6%B5%8B"><span class="nav-number">1.1.</span> <span class="nav-text">逻辑值检测</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.2.</span> <span class="nav-text">数字类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.3.</span> <span class="nav-text">序列类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6IO"><span class="nav-number">2.</span> <span class="nav-text">文件IO</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#mode-%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3"><span class="nav-number">2.1.</span> <span class="nav-text">mode 参数详解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#with-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">2.2.</span> <span class="nav-text">with 关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="nav-number">2.3.</span> <span class="nav-text">文件对象方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read"><span class="nav-number">2.4.</span> <span class="nav-text">read()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#readline"><span class="nav-number">2.5.</span> <span class="nav-text">readline()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#readlines"><span class="nav-number">2.6.</span> <span class="nav-text">readlines()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#write"><span class="nav-number">2.7.</span> <span class="nav-text">write()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tell"><span class="nav-number">2.8.</span> <span class="nav-text">tell()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#seek"><span class="nav-number">2.9.</span> <span class="nav-text">seek()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#close"><span class="nav-number">2.10.</span> <span class="nav-text">close()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flush"><span class="nav-number">2.11.</span> <span class="nav-text">flush()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fileno"><span class="nav-number">2.12.</span> <span class="nav-text">fileno()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isatty"><span class="nav-number">2.13.</span> <span class="nav-text">isatty()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#truncate"><span class="nav-number">2.14.</span> <span class="nav-text">truncate()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#writelines"><span class="nav-number">2.15.</span> <span class="nav-text">writelines()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97"><span class="nav-number">3.</span> <span class="nav-text">模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E8%AF%A6%E8%A7%A3"><span class="nav-number">3.1.</span> <span class="nav-text">模块详解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A5%E8%84%9A%E6%9C%AC%E6%96%B9%E5%BC%8F%E6%89%A7%E8%A1%8C%E6%A8%A1%E5%9D%97"><span class="nav-number">3.2.</span> <span class="nav-text">以脚本方式执行模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dir"><span class="nav-number">3.3.</span> <span class="nav-text">dir()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%85"><span class="nav-number">3.4.</span> <span class="nav-text">包</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8E%E5%8C%85%E4%B8%AD%E5%AF%BC%E5%85%A5"><span class="nav-number">3.4.1.</span> <span class="nav-text">从包中导入 *</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">3.5.</span> <span class="nav-text">序列化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#pickle"><span class="nav-number">3.5.1.</span> <span class="nav-text">pickle</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#dump-dumps"><span class="nav-number">3.5.1.1.</span> <span class="nav-text">dump(), dumps()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#load-loads"><span class="nav-number">3.5.1.2.</span> <span class="nav-text">load(), loads()</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#json"><span class="nav-number">3.5.2.</span> <span class="nav-text">json</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#dump-dumps-1"><span class="nav-number">3.5.2.1.</span> <span class="nav-text">dump(), dumps()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#load-loads-1"><span class="nav-number">3.5.2.2.</span> <span class="nav-text">load(), loads()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Math"><span class="nav-number">3.6.</span> <span class="nav-text">Math</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#math-ceil-x"><span class="nav-number">3.6.1.</span> <span class="nav-text">math.ceil(x)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-floor-x"><span class="nav-number">3.6.2.</span> <span class="nav-text">math.floor(x)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-comb-n-k"><span class="nav-number">3.6.3.</span> <span class="nav-text">math.comb(n, k)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-pow-x-y"><span class="nav-number">3.6.4.</span> <span class="nav-text">math.pow(x, y)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-exp-x"><span class="nav-number">3.6.5.</span> <span class="nav-text">math.exp(x)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-sqrt-x"><span class="nav-number">3.6.6.</span> <span class="nav-text">math.sqrt(x)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-fabs-x"><span class="nav-number">3.6.7.</span> <span class="nav-text">math.fabs(x)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-modf"><span class="nav-number">3.6.8.</span> <span class="nav-text">math.modf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-copysign-x-y"><span class="nav-number">3.6.9.</span> <span class="nav-text">math.copysign(x, y)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-fsum-iterable"><span class="nav-number">3.6.10.</span> <span class="nav-text">math.fsum(iterable)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#math-factorial-x"><span class="nav-number">3.6.11.</span> <span class="nav-text">math.factorial(x)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Random"><span class="nav-number">3.7.</span> <span class="nav-text">Random</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#random-randbytes-n"><span class="nav-number">3.7.1.</span> <span class="nav-text">random.randbytes(n)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-randrange-start-stop-step"><span class="nav-number">3.7.2.</span> <span class="nav-text">random.randrange(start, stop[, step])</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-randint-a-b"><span class="nav-number">3.7.3.</span> <span class="nav-text">random.randint(a, b)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-random"><span class="nav-number">3.7.4.</span> <span class="nav-text">random.random()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-uniform-a-b"><span class="nav-number">3.7.5.</span> <span class="nav-text">random.uniform(a, b)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-choice-seq"><span class="nav-number">3.7.6.</span> <span class="nav-text">random.choice(seq)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-shuffle-x-random"><span class="nav-number">3.7.7.</span> <span class="nav-text">random.shuffle(x[, random])</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-sample-population-k-counts-None"><span class="nav-number">3.7.8.</span> <span class="nav-text">random.sample(population, k, *, counts&#x3D;None)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#random-seed-a-None-version-2"><span class="nav-number">3.7.9.</span> <span class="nav-text">random.seed(a&#x3D;None, version&#x3D;2)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OS"><span class="nav-number">3.8.</span> <span class="nav-text">OS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#os-access"><span class="nav-number">3.8.1.</span> <span class="nav-text">os.access()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-getcwd"><span class="nav-number">3.8.2.</span> <span class="nav-text">os.getcwd()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-chdir"><span class="nav-number">3.8.3.</span> <span class="nav-text">os.chdir()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-listdir"><span class="nav-number">3.8.4.</span> <span class="nav-text">os.listdir()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-mkdir"><span class="nav-number">3.8.5.</span> <span class="nav-text">os.mkdir()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-makedirs"><span class="nav-number">3.8.6.</span> <span class="nav-text">os.makedirs()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-rmdir"><span class="nav-number">3.8.7.</span> <span class="nav-text">os.rmdir()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-removedirs"><span class="nav-number">3.8.8.</span> <span class="nav-text">os.removedirs()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-remove"><span class="nav-number">3.8.9.</span> <span class="nav-text">os.remove()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-rename"><span class="nav-number">3.8.10.</span> <span class="nav-text">os.rename()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-system"><span class="nav-number">3.8.11.</span> <span class="nav-text">os.system()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-walk"><span class="nav-number">3.8.12.</span> <span class="nav-text">os.walk()</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="花祭"
      src="/images/my_avatar.jpeg">
  <p class="site-author-name" itemprop="name">花祭</p>
  <div class="site-description" itemprop="description">一个简单的小博客</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/HuaJiYa520" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;HuaJiYa520" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:Hua.JiYa@outlook.com" title="E-Mail → mailto:Hua.JiYa@outlook.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/16/Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/my_avatar.jpeg">
      <meta itemprop="name" content="花祭">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花祭的博客">
      <meta itemprop="description" content="一个简单的小博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Python3 学习笔记-3 | 花祭的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python3 学习笔记-3
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-16 17:17:45" itemprop="dateCreated datePublished" datetime="2022-03-16T17:17:45+08:00">2022-03-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-04-01 21:28:32" itemprop="dateModified" datetime="2023-04-01T21:28:32+08:00">2023-04-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python3/" itemprop="url" rel="index"><span itemprop="name">Python3</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="内置类型补充说明"><a href="#内置类型补充说明" class="headerlink" title="内置类型补充说明"></a>内置类型补充说明</h2><p>主要的内置类型有数字、序列、映射、类、实例和异常  </p>
<p>有些多项集类是可变的。 它们用于添加、移除或重排其成员的方法将原地执行，并不返回特定的项，绝对不会返回多项集实例自身而是返回 None  </p>
<span id="more"></span>
<h3 id="逻辑值检测"><a href="#逻辑值检测" class="headerlink" title="逻辑值检测"></a>逻辑值检测</h3><p>任何对象都可以进行逻辑值的检测，以便在 <code>if</code> 或 <code>while</code> 作为条件或是作为下文所述布尔运算的操作数来使用。以下是常见的被认为是假的值</p>
<ul>
<li>被定义为假值的常量：<code>None</code> 和 <code>False</code></li>
<li>任何数值类型的零：<code>0</code>, <code>0.0</code>, <code>0j</code>, <code>Decimal(0)</code>, <code>Fraction(0,1)</code></li>
<li>空的序列和多项集：<code>&#39;&#39;</code>, <code>()</code>, <code>[]</code>, <code>set()</code>, <code>range(0)</code></li>
</ul>
<h3 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h3><ul>
<li>有三种不同的数字类型：<strong>整数</strong>，<strong>浮点数</strong> 和 <strong>复数</strong>，布尔值属于整数的子类型</li>
<li>整数除法 <code>//</code> 的结果值是一个整数，但结果的类型不一定是 int。运算结果总是向负无穷的方向舍入：<code>1//2</code> 为 <code>0</code>，<code>(-1)//2</code> 为 <code>-1</code>，而 <code>(-1)//(-2)</code> 为 <code>0</code></li>
<li>Python 将 <code>pow(0,0)</code> 和 <code>0**0</code> 定义为 <code>1</code>，这是编程语言的普遍做法</li>
</ul>
<h3 id="序列类型"><a href="#序列类型" class="headerlink" title="序列类型"></a>序列类型</h3><p>序列类型包括：list, tuple, range</p>
<blockquote>
<p>通用序列操作</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x in s</td>
<td style="text-align:center">如果 s 中的某项等于 x 则结果为 True，否则为 False</td>
</tr>
<tr>
<td style="text-align:center">x not in s</td>
<td style="text-align:center">如果 s 中的某项等于 x 则结果为 False，否则为 True</td>
</tr>
<tr>
<td style="text-align:center">s + t</td>
<td style="text-align:center">s 与 t 相拼接</td>
</tr>
<tr>
<td style="text-align:center">s * n 或 n * s</td>
<td style="text-align:center">相当于 s 与自身进行 n 次拼接</td>
</tr>
<tr>
<td style="text-align:center">s[i]</td>
<td style="text-align:center">s 的第 i 项，起始为 0</td>
</tr>
<tr>
<td style="text-align:center">s[i:j]</td>
<td style="text-align:center">s 从 i 到 j 的切片</td>
</tr>
<tr>
<td style="text-align:center">s[i:j:k]</td>
<td style="text-align:center">s 从 i 到 j 步长为 k 的切片</td>
</tr>
<tr>
<td style="text-align:center">len(s)</td>
<td style="text-align:center">s 的长度</td>
</tr>
<tr>
<td style="text-align:center">min(s)</td>
<td style="text-align:center">s 的最小项</td>
</tr>
<tr>
<td style="text-align:center">max(s)</td>
<td style="text-align:center">s 的最大项</td>
</tr>
<tr>
<td style="text-align:center">s.index(x[,i[,j]])</td>
<td style="text-align:center">x 在 s 中首次出现项的索引号（索引号在 i 或其后且在 j 之前）</td>
</tr>
<tr>
<td style="text-align:center">s.count(x)</td>
<td style="text-align:center">x 在 s 中出现的总次数</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>在使用 <code>s*n</code> 的方式创建序列时，s 中的项并不会被拷贝，它们会被多次引用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list_1 = [[]] * <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(list_1)</span><br><span class="line"><span class="comment"># [[], [], []]</span></span><br><span class="line"></span><br><span class="line">list_1[<span class="number">0</span>].append(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(list_1)</span><br><span class="line"><span class="comment"># [[3], [3], [3]]</span></span><br></pre></td></tr></table></figure>
<p>具体的原因在于 <code>[[]]</code> 是一个包含了空列表的单元素列表，所以 <code>[[]]*3</code> 结果中的三个元素都是对这一个空列表的引用。修改 <code>list_1</code> 中的任何一个元素实际上都是对这一个空列表的修改。可以用其他方法创建以不同列表为元素的列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list_1 = [[] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line">list_1[<span class="number">0</span>].append(<span class="number">3</span>)</span><br><span class="line">list_1[<span class="number">1</span>].append(<span class="number">5</span>)</span><br><span class="line">list_1[<span class="number">2</span>].append(<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(list_1)</span><br><span class="line"><span class="comment"># [[3], [5], [7]]</span></span><br></pre></td></tr></table></figure>
<ul>
<li>使用 <code>s+t</code> 方式拼接不可变序列时总是会生成新的对象。这意味着通过重复拼接来构建序列的运行时开销将会基于序列总长度的乘方。想要获得线性的运行时开销，可以用以下替代方案：<ul>
<li>如果拼接 str 对象，可以构建一个列表并在最后使用 <code>str.join()</code> 或是写入一个 <code>io.StringIO</code> 实例并在结束时获取它的值</li>
<li>如果拼接 bytes 对象，可以类似地使用 <code>bytes.join()</code> 或 <code>io.BytesIO</code>，或者也可以使用 <code>bytearray</code> 对象进行原地拼接。<code>bytearray</code> 对象是可变的，并且具有高效的重分配机制</li>
<li>如果拼接 tuple 对象，将其扩展为 list 类</li>
<li>对于其他类型，查看相应的文档</li>
</ul>
</li>
</ul>
<blockquote>
<p>可变序列常用操作</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">运算</th>
<th style="text-align:center">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">s[i] = x</td>
<td style="text-align:center">将 s 的第 i 项替换为 x</td>
</tr>
<tr>
<td style="text-align:center">s[i:j] = t</td>
<td style="text-align:center">将 s 从 i 到 j 的切片替换为可迭代对象 t 的内容</td>
</tr>
<tr>
<td style="text-align:center">del s[i:j]</td>
<td style="text-align:center">等同于 s[i:j] = []</td>
</tr>
<tr>
<td style="text-align:center">s[i:j:k] = t</td>
<td style="text-align:center">将 s[i:j:k] 的元素替换为 t 的元素</td>
</tr>
<tr>
<td style="text-align:center">del s[i:j:k]</td>
<td style="text-align:center">从列表中移除 s[i:j:k] 的元素</td>
</tr>
<tr>
<td style="text-align:center">s.append(x)</td>
<td style="text-align:center">将 x 添加到序列的末尾（等同于 s[len(s):len(s)] = [x]）</td>
</tr>
<tr>
<td style="text-align:center">s.clear()</td>
<td style="text-align:center">从 s 中移除所有项（等同于 del s[:]）</td>
</tr>
<tr>
<td style="text-align:center">s.copy()</td>
<td style="text-align:center">创建 s 的浅拷贝（等同于 s[:]）</td>
</tr>
<tr>
<td style="text-align:center">s.extend(t) 或 s += t</td>
<td style="text-align:center">用 t 的内容扩展 s（基本上等同于 s[len(s):len(s)] = t）</td>
</tr>
<tr>
<td style="text-align:center">s *= n</td>
<td style="text-align:center">使用 s 的内容重复 n 次来对其进行更新</td>
</tr>
<tr>
<td style="text-align:center">s.insert(i,x)</td>
<td style="text-align:center">在由 i 给出的索引位置将 x 插入 s（等同于 s[i:i] = [x]）</td>
</tr>
<tr>
<td style="text-align:center">s.pop() 或 s.pop(i)</td>
<td style="text-align:center">提取在 i 位置上的项，并将其从 s 中移除</td>
</tr>
<tr>
<td style="text-align:center">s.remove(x)</td>
<td style="text-align:center">删除 s 中第一个 s[i] 等于 x 的项目</td>
</tr>
<tr>
<td style="text-align:center">s.reverse()</td>
<td style="text-align:center">就地将列表中的元素逆序</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><code>s[i:j:k] = t</code> 中，t 必须与它所替换的切片具有相同的长度</li>
<li><code>s.pop(i)</code> 中，可选参数 i 默认为 -1，因此在默认情况下会移除并返回最后一项</li>
</ul>
<h2 id="文件IO"><a href="#文件IO" class="headerlink" title="文件IO"></a>文件IO</h2><p>Python <code>open()</code> 方法用于打开一个文件，并返回文件对象，在对文件进行处理过程中都需要使用到这个函数，如果该文件无法被打开，会抛出 OSError。使用 <code>open()</code> 方法一定要保证关闭文件对象，即调用 <code>close()</code> 方法</p>
<p>语法格式</p>
<p><code>open(file, mode=&#39;r&#39;, buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)</code></p>
<ul>
<li>file：必需，文件路径</li>
<li>mode：可选，文件打开模式</li>
<li>buffering：设置缓冲</li>
<li>encoding：一般使用 utf-8</li>
<li>errors：报错级别</li>
<li>newline：区分换行符</li>
<li>closefd：传入的 file 参数类型</li>
<li>opener：设置自定义开启器，开启器的返回值必须是一个打开的文件描述符</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">file.write(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>
<h3 id="mode-参数详解"><a href="#mode-参数详解" class="headerlink" title="mode 参数详解"></a>mode 参数详解</h3><blockquote>
<p><code>open()</code> 方法的第一个实参是文件名字符串，第二个实参是包含描述文件使用方式的字符串。mode 的值包括 <code>&#39;r&#39;</code>，表示文件只能读取；<code>&#39;w&#39;</code> 表示只能写入（现有的同名文件会被覆盖）；<code>&#39;a&#39;</code> 表示打开文件并追加内容，任何写入的数据会自动添加到文件末尾。<code>&#39;r+&#39;</code> 表示打开文件进行读写。mode 实参是可选的，省略时默认值为 <code>&#39;r&#39;</code><br>通常，文件以 text mode 打开，即，从文件中读取或写入字符串时，都以指定编码方式进行编码。如未指定编码格式，默认值与平台相关。在 mode 中追加的 <code>&#39;b&#39;</code> 则以 binary mode 打开文件：此时，数据以字节对象的形式进行读写。该模式用于所有不包含文本的文件<br>在文本模式下读取文件时，默认把平台特定的行结束符（Unix 上为 <code>\n</code>, Windows 上为 <code>\r\n</code>）转换为 <code>\n</code>。在文本模式下写入数据时，默认把 <code>\n</code> 转换回平台特定结束符。这种操作方式在后台修改文件数据对文本文件来说没有问题，但会破坏 <code>JPEG</code> 或 <code>EXE</code> 等二进制文件中的数据。所以在读写此类文件时，一定要使用二进制模式</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">模式</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">t</td>
<td style="text-align:center">文本读取模式（默认）。与之对应的是 ‘b’</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:center">二进制读取模式</td>
</tr>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">写模式，新建一个文件，如果该文件已存在则会报错</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">打开一个文件进行更新（支持读写）</td>
</tr>
<tr>
<td style="text-align:center">r</td>
<td style="text-align:center">以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式</td>
</tr>
<tr>
<td style="text-align:center">rb</td>
<td style="text-align:center">以二进制格式打开一个文件用于只读</td>
</tr>
<tr>
<td style="text-align:center">r+</td>
<td style="text-align:center">打开一个文件用于读写</td>
</tr>
<tr>
<td style="text-align:center">rb+</td>
<td style="text-align:center">以二进制格式打开一个文件用于读写</td>
</tr>
<tr>
<td style="text-align:center">w</td>
<td style="text-align:center">打开一个文件只用于写入。如果该文件已存在则打开文件，并从头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件</td>
</tr>
<tr>
<td style="text-align:center">wb</td>
<td style="text-align:center">以二进制格式打开一个文件只用于写入</td>
</tr>
<tr>
<td style="text-align:center">w+</td>
<td style="text-align:center">打开一个文件用于读写</td>
</tr>
<tr>
<td style="text-align:center">wb+</td>
<td style="text-align:center">以二进制格式打开一个文件用于读写</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入</td>
</tr>
<tr>
<td style="text-align:center">ab</td>
<td style="text-align:center">以二进制格式打开一个文件用于追加</td>
</tr>
<tr>
<td style="text-align:center">a+</td>
<td style="text-align:center">打开一个文件用于追加</td>
</tr>
<tr>
<td style="text-align:center">ab+</td>
<td style="text-align:center">以二进制格式打开一个文件用于追加</td>
</tr>
</tbody>
</table>
</div>
<h3 id="with-关键字"><a href="#with-关键字" class="headerlink" title="with 关键字"></a>with 关键字</h3><p>在处理文件对象时，最好使用 <code>with</code> 关键字。优点是，子句体结束后，文件会正确关闭，即便触发异常也可以。而且，使用 <code>with</code> 相比等效的 <code>try-finally</code> 代码块要简短得多</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read())</span><br><span class="line"><span class="comment"># Hello World</span></span><br></pre></td></tr></table></figure>
<h3 id="文件对象方法"><a href="#文件对象方法" class="headerlink" title="文件对象方法"></a>文件对象方法</h3><p>假定已经创建一个 <code>f</code> 文件对象</p>
<h3 id="read"><a href="#read" class="headerlink" title="read()"></a>read()</h3><p><code>f.read(size)</code> 可用于读取文件内容，它会读取一些数据，并返回字符串（文本模式），或字节串对象（二进制模式）。 size 是可选的数值参数。省略 size 或 size 为负数时，读取并返回整个文件的内容；文件大小是内存的两倍时，会出现问题（内存溢出）。size 取其他值时，读取并返回最多 size 个字符（文本模式）或 size 个字节（二进制模式）。如已到达文件末尾，<code>f.read()</code> 返回空字符串 <code>&#39;&#39;</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read())</span><br><span class="line"><span class="comment"># 123</span></span><br><span class="line"><span class="comment"># 456</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read(<span class="number">3</span>))</span><br><span class="line"><span class="comment"># 123</span></span><br></pre></td></tr></table></figure>
<h3 id="readline"><a href="#readline" class="headerlink" title="readline()"></a>readline()</h3><p><code>f.readline()</code> 从文件中读取单行数据；字符串末尾保留换行符 <code>\n</code>。只有在文件不以换行符结尾时，文件的最后一行才会省略换行符。只要 <code>f.readline()</code> 返回空字符串，就表示已经到达了文件末尾</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    line = f.readline()</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">repr</span>(line))</span><br><span class="line"><span class="comment"># &#x27;123\n&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        line = f.readline()</span><br><span class="line">        <span class="keyword">if</span> line:</span><br><span class="line">            <span class="built_in">print</span>(<span class="built_in">repr</span>(line))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"><span class="comment"># &#x27;123\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;456\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;789\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;Hello\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;World\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;I love you&#x27;</span></span><br></pre></td></tr></table></figure>
<p>从文件中读取多行时，可以用循环遍历整个文件对象。这种操作能高效利用内存，快速，且代码简单</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">repr</span>(line))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x27;123\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;456\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;789\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;Hello\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;World\n&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;I love you&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="readlines"><a href="#readlines" class="headerlink" title="readlines()"></a>readlines()</h3><p><code>readlines()</code> 方法用于读取所有行（直到结束符 EOF）并返回列表，该列表可以由 Python 的 for…in… 结构进行处理。如果碰到结束符 EOF 则返回空字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="built_in">print</span>(file.readlines())</span><br><span class="line"></span><br><span class="line"><span class="comment"># [&#x27;第一行：123\n&#x27;, &#x27;第二行：456\n&#x27;, &#x27;第三行：789\n&#x27;, &#x27;第四行：abc&#x27;]</span></span><br></pre></td></tr></table></figure>
<h3 id="write"><a href="#write" class="headerlink" title="write()"></a>write()</h3><p><code>f.write(string)</code> 把 string 的内容写入文件，并返回写入的字符数。在文件关闭前或缓冲区刷新前，字符串内容存储在缓冲区中，这时在文件中是看不到写入的内容的。该方法返回的是写入的字符长度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test2.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&quot;Hello World&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>写入其他类型的对象前，要先把它们转化为字符串（文本模式）或字节对象（二进制模式）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test2.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">    f.write(<span class="built_in">str</span>(<span class="number">42</span>))</span><br></pre></td></tr></table></figure>
<h3 id="tell"><a href="#tell" class="headerlink" title="tell()"></a>tell()</h3><p><code>tell()</code> 方法返回文件的当前位置，即文件指针当前位置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test2.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    line = f.readline()</span><br><span class="line">    <span class="built_in">print</span>(line)</span><br><span class="line">    pos = f.tell()</span><br><span class="line">    <span class="built_in">print</span>(pos)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hello World42</span></span><br><span class="line"><span class="comment"># 13</span></span><br></pre></td></tr></table></figure>
<h3 id="seek"><a href="#seek" class="headerlink" title="seek()"></a>seek()</h3><p><code>seek()</code> 方法用于移动文件读取指针到指定位置，如果操作成功，返回新的文件位置，如果操作失败，则函数返回 -1</p>
<p>语法格式</p>
<p><code>seek(offset, whence)</code></p>
<ul>
<li>offset: 开始的偏移量，也就是代表需要移动偏移的字节数，如果是负数表示从倒数第几位开始</li>
<li>whence: 可选，默认值为0。给 offset 定义一个参数，表示要从哪个位置开始偏移；0 代表从文件开头开始算起，1 代表从当前位置开始算起，2代表从文件末尾算起</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&quot;123456789abcdef&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(f.readline())</span><br><span class="line">    <span class="comment"># 打印值为空</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将指针移动回文件开始</span></span><br><span class="line">    f.seek(<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(f.readline())</span><br><span class="line">    <span class="comment"># 123456789abcdef</span></span><br></pre></td></tr></table></figure>
<h3 id="close"><a href="#close" class="headerlink" title="close()"></a>close()</h3><p><code>close()</code> 方法用于关闭一个已打开的文件。关闭后的文件不能再进行读写操作，否则会触发 ValueError 错误，<code>close()</code> 方法允许调用多次</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(file.readline())</span><br><span class="line"><span class="comment"># 123456789abcdef</span></span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>
<h3 id="flush"><a href="#flush" class="headerlink" title="flush()"></a>flush()</h3><p><code>flush()</code> 方法时用来刷新缓冲区的，即将缓冲区中的数据立刻写入文件，同时清空缓冲区，不需要被动的等待输出缓冲区写入。一般情况下，文件关闭后会自动刷新缓冲区</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w+&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(<span class="string">&quot;Test&quot;</span>)</span><br><span class="line">    file.flush()</span><br></pre></td></tr></table></figure>
<h3 id="fileno"><a href="#fileno" class="headerlink" title="fileno()"></a>fileno()</h3><p><code>fileno()</code> 方法返回一个整型的文件描述符，可用于底层操作系统的 IO 操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w+&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    fid = file.fileno()</span><br><span class="line">    <span class="built_in">print</span>(fid)</span><br><span class="line">    <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>
<h3 id="isatty"><a href="#isatty" class="headerlink" title="isatty()"></a>isatty()</h3><p><code>isatty()</code> 方法检测文件是否连接到一个终端设备，如果是返回 True，否则返回 False</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;w+&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    ret = file.isatty()</span><br><span class="line">    <span class="built_in">print</span>(ret)</span><br><span class="line">    <span class="comment"># False</span></span><br></pre></td></tr></table></figure>
<h3 id="truncate"><a href="#truncate" class="headerlink" title="truncate()"></a>truncate()</h3><p><code>truncate(size)</code> 方法用于从文件的首行首字节开始截断，截断文件为 size 个字节，无 size 表示从当前位置截断</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开文件</span></span><br><span class="line">fo = <span class="built_in">open</span>(<span class="string">&quot;runoob.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;文件名为: &quot;</span>, fo.name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 截取10个字节</span></span><br><span class="line">fo.truncate(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = fo.read()</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;读取数据: %s&quot;</span> % (<span class="built_in">str</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭文件</span></span><br><span class="line">fo.close()</span><br></pre></td></tr></table></figure>
<h3 id="writelines"><a href="#writelines" class="headerlink" title="writelines()"></a>writelines()</h3><p><code>writelines()</code> 方法用于向文件中写入一序列的字符串，这一序列字符串可以是由迭代对象产生的，如一个字符串列表，换行需要制定换行符 <code>\n</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;r+&#x27;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    seq = [<span class="string">&quot;第一行\n&quot;</span>, <span class="string">&quot;第二行&quot;</span>]</span><br><span class="line">    file.writelines(seq)</span><br></pre></td></tr></table></figure>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p>Python 把各种定义存入一个文件，在脚本或解释器的交互式实例中使用，这个文件就是模块。模块中的定义可以导入到其他模块或主模块（在顶层和计算器模式下，执行脚本中可访问的变量集）  </p>
<p>模块是包含 Python 定义和语句的文件。其文件名是模块名加后缀名 <code>.py</code>。在模块内部，通过全局变量 <code>__name__</code> 可以获取模块名（即字符串）  </p>
<p>定义一个 fibo.py 模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义一个 fibo 模块计算斐波那契数列</span></span><br><span class="line"><span class="comment"># 文件名: fibo.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">n</span>):</span><br><span class="line">    a, b = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> a &lt; n:</span><br><span class="line">        <span class="built_in">print</span>(a, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib2</span>(<span class="params">n</span>):</span><br><span class="line">    result = []</span><br><span class="line">    a, b = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> a &lt; n:</span><br><span class="line">        result.append(a)</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<p>在另一个文件中调用 fibo 模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fibo</span><br><span class="line"></span><br><span class="line">fibo.fib(<span class="number">1000</span>)</span><br><span class="line"><span class="comment"># 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987</span></span><br><span class="line"></span><br><span class="line">res = fibo.fib2(<span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"><span class="comment"># [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(fibo.__name__)</span><br><span class="line"><span class="comment"># fibo</span></span><br></pre></td></tr></table></figure>
<h3 id="模块详解"><a href="#模块详解" class="headerlink" title="模块详解"></a>模块详解</h3><p>模块包含可执行语句及函数定义。这些语句用于初始化模块，且仅在 import 语句 第一次 遇到模块名时执行  </p>
<p>模块有自己的私有符号表，用作模块中所有函数的全局符号表。因此，在模块内使用全局变量时，不用担心与用户定义的全局变量发生冲突。另一方面，可以用与访问模块函数一样的标记法，访问模块的全局变量，<code>modname.itemname</code>  </p>
<p>可以把其他模块导入模块。按惯例，所有 import 语句都放在模块（或脚本）开头，但这不是必须的。导入的模块名存在导入模块的全局符号表里  </p>
<p><code>import</code> 有一个变体 <code>form ... import ...</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fibo <span class="keyword">import</span> fib, fib2</span><br><span class="line"></span><br><span class="line">fib(<span class="number">1000</span>)</span><br><span class="line"><span class="comment"># 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987</span></span><br></pre></td></tr></table></figure>
<p>可以使用 <code>form ... import *</code> 的方式导入模块内定义的所有名称。这种方式会导入所有不以下划线 <code>_</code> 开头的名称。大多数情况下，不要使用这个功能，这种方式向解释器导入了一批未知的名称，可能会覆盖已定义的名称</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fibo <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">fib(<span class="number">1000</span>)</span><br><span class="line"><span class="comment"># 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987</span></span><br></pre></td></tr></table></figure>
<p>模块名后使用 <code>as</code> 时，直接把 <code>as</code> 后的名称与导入模块绑定</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fibo <span class="keyword">import</span> fib <span class="keyword">as</span> fibonacci</span><br><span class="line"></span><br><span class="line">fibonacci(<span class="number">1000</span>)</span><br><span class="line"><span class="comment"># 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987</span></span><br></pre></td></tr></table></figure>
<h3 id="以脚本方式执行模块"><a href="#以脚本方式执行模块" class="headerlink" title="以脚本方式执行模块"></a>以脚本方式执行模块</h3><p>可以用以下方式运行 Python 模块</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python fibo.py &lt;arguments&gt;</span><br></pre></td></tr></table></figure>
<p>这项操作将执行模块里的代码，和导入模块一样，但会把 <code>__name__</code> 赋值为 <code>__main__</code>。也就是将下列代码添加到模块末尾</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">import</span> sys</span><br><span class="line">    fib(<span class="built_in">int</span>(sys.argv[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>
<h3 id="dir"><a href="#dir" class="headerlink" title="dir()"></a>dir()</h3><p>内置函数 <code>dir()</code> 用于查找模块定义的名称。返回结果是经过排序的字符串列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> fibo, sys</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(fibo))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&#x27;__builtins__&#x27;, &#x27;__cached__&#x27;, &#x27;__doc__&#x27;, &#x27;__file__&#x27;, &#x27;__loader__&#x27;, &#x27;__name__&#x27;, &#x27;__package__&#x27;, &#x27;__spec__&#x27;, &#x27;fib&#x27;, &#x27;fib2&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(sys))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&#x27;__breakpointhook__&#x27;, &#x27;__displayhook__&#x27;, &#x27;__doc__&#x27;, &#x27;__excepthook__&#x27;, &#x27;__interactivehook__&#x27;, &#x27;__loader__&#x27;, &#x27;__name__&#x27;, &#x27;__package__&#x27;, &#x27;__spec__&#x27;, &#x27;__stderr__&#x27;, &#x27;__stdin__&#x27;, &#x27;__stdout__&#x27;, &#x27;__unraisablehook__&#x27;, &#x27;_base_executable&#x27;, &#x27;_clear_type_cache&#x27;, &#x27;_current_exceptions&#x27;, &#x27;_current_frames&#x27;, &#x27;_deactivate_opcache&#x27;, &#x27;_debugmallocstats&#x27;, &#x27;_enablelegacywindowsfsencoding&#x27;, &#x27;_framework&#x27;, &#x27;_getframe&#x27;, &#x27;_git&#x27;, &#x27;_home&#x27;, &#x27;_xoptions&#x27;, &#x27;addaudithook&#x27;, &#x27;api_version&#x27;, &#x27;argv&#x27;, &#x27;audit&#x27;, &#x27;base_exec_prefix&#x27;, &#x27;base_prefix&#x27;, &#x27;breakpointhook&#x27;, &#x27;builtin_module_names&#x27;, &#x27;byteorder&#x27;, &#x27;call_tracing&#x27;, &#x27;copyright&#x27;, &#x27;displayhook&#x27;, &#x27;dllhandle&#x27;, &#x27;dont_write_bytecode&#x27;, &#x27;exc_info&#x27;, &#x27;excepthook&#x27;, &#x27;exec_prefix&#x27;, &#x27;executable&#x27;, &#x27;exit&#x27;, &#x27;flags&#x27;, &#x27;float_info&#x27;, &#x27;float_repr_style&#x27;, &#x27;get_asyncgen_hooks&#x27;, &#x27;get_coroutine_origin_tracking_depth&#x27;, &#x27;getallocatedblocks&#x27;, &#x27;getdefaultencoding&#x27;, &#x27;getfilesystemencodeerrors&#x27;, &#x27;getfilesystemencoding&#x27;, &#x27;getprofile&#x27;, &#x27;getrecursionlimit&#x27;, &#x27;getrefcount&#x27;, &#x27;getsizeof&#x27;, &#x27;getswitchinterval&#x27;, &#x27;gettrace&#x27;, &#x27;getwindowsversion&#x27;, &#x27;hash_info&#x27;, &#x27;hexversion&#x27;, &#x27;implementation&#x27;, &#x27;int_info&#x27;, &#x27;intern&#x27;, &#x27;is_finalizing&#x27;, &#x27;maxsize&#x27;, &#x27;maxunicode&#x27;, &#x27;meta_path&#x27;, &#x27;modules&#x27;, &#x27;orig_argv&#x27;, &#x27;path&#x27;, &#x27;path_hooks&#x27;, &#x27;path_importer_cache&#x27;, &#x27;platform&#x27;, &#x27;platlibdir&#x27;, &#x27;prefix&#x27;, &#x27;pycache_prefix&#x27;, &#x27;set_asyncgen_hooks&#x27;, &#x27;set_coroutine_origin_tracking_depth&#x27;, &#x27;setprofile&#x27;, &#x27;setrecursionlimit&#x27;, &#x27;setswitchinterval&#x27;, &#x27;settrace&#x27;, &#x27;stderr&#x27;, &#x27;stdin&#x27;, &#x27;stdlib_module_names&#x27;, &#x27;stdout&#x27;, &#x27;thread_info&#x27;, &#x27;unraisablehook&#x27;, &#x27;version&#x27;, &#x27;version_info&#x27;, &#x27;warnoptions&#x27;, &#x27;winver&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>没有参数时，<code>dir()</code> 列出当前定义的名称。该函数列出所有类型的名称：变量、模块、函数等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = [<span class="number">123</span>, <span class="number">345</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>())</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&#x27;__annotations__&#x27;, &#x27;__builtins__&#x27;, &#x27;__cached__&#x27;, &#x27;__doc__&#x27;, &#x27;__file__&#x27;, &#x27;__loader__&#x27;, &#x27;__name__&#x27;, &#x27;__package__&#x27;, &#x27;__spec__&#x27;, &#x27;a&#x27;, &#x27;b&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p><code>dir()</code> 不会列出内置函数和变量的名称。这些内容定义在标准模块 builtins 里</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> builtins</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(builtins))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">[&#x27;ArithmeticError&#x27;, &#x27;AssertionError&#x27;, &#x27;AttributeError&#x27;, &#x27;BaseException&#x27;, &#x27;BlockingIOError&#x27;, &#x27;BrokenPipeError&#x27;, &#x27;BufferError&#x27;, &#x27;BytesWarning&#x27;, &#x27;ChildProcessError&#x27;, &#x27;ConnectionAbortedError&#x27;, &#x27;ConnectionError&#x27;, &#x27;ConnectionRefusedError&#x27;, &#x27;ConnectionResetError&#x27;, &#x27;DeprecationWarning&#x27;, &#x27;EOFError&#x27;, &#x27;Ellipsis&#x27;, &#x27;EncodingWarning&#x27;, &#x27;EnvironmentError&#x27;, &#x27;Exception&#x27;, &#x27;False&#x27;, &#x27;FileExistsError&#x27;, &#x27;FileNotFoundError&#x27;, &#x27;FloatingPointError&#x27;, &#x27;FutureWarning&#x27;, &#x27;GeneratorExit&#x27;, &#x27;IOError&#x27;, &#x27;ImportError&#x27;, &#x27;ImportWarning&#x27;, &#x27;IndentationError&#x27;, &#x27;IndexError&#x27;, &#x27;InterruptedError&#x27;, &#x27;IsADirectoryError&#x27;, &#x27;KeyError&#x27;, &#x27;KeyboardInterrupt&#x27;, &#x27;LookupError&#x27;, &#x27;MemoryError&#x27;, &#x27;ModuleNotFoundError&#x27;, &#x27;NameError&#x27;, &#x27;None&#x27;, &#x27;NotADirectoryError&#x27;, &#x27;NotImplemented&#x27;, &#x27;NotImplementedError&#x27;, &#x27;OSError&#x27;, &#x27;OverflowError&#x27;, &#x27;PendingDeprecationWarning&#x27;, &#x27;PermissionError&#x27;, &#x27;ProcessLookupError&#x27;, &#x27;RecursionError&#x27;, &#x27;ReferenceError&#x27;, &#x27;ResourceWarning&#x27;, &#x27;RuntimeError&#x27;, &#x27;RuntimeWarning&#x27;, &#x27;StopAsyncIteration&#x27;, &#x27;StopIteration&#x27;, &#x27;SyntaxError&#x27;, &#x27;SyntaxWarning&#x27;, &#x27;SystemError&#x27;, &#x27;SystemExit&#x27;, &#x27;TabError&#x27;, &#x27;TimeoutError&#x27;, &#x27;True&#x27;, &#x27;TypeError&#x27;, &#x27;UnboundLocalError&#x27;, &#x27;UnicodeDecodeError&#x27;, &#x27;UnicodeEncodeError&#x27;, &#x27;UnicodeError&#x27;, &#x27;UnicodeTranslateError&#x27;, &#x27;UnicodeWarning&#x27;, &#x27;UserWarning&#x27;, &#x27;ValueError&#x27;, &#x27;Warning&#x27;, &#x27;WindowsError&#x27;, &#x27;ZeroDivisionError&#x27;, &#x27;__build_class__&#x27;, &#x27;__debug__&#x27;, &#x27;__doc__&#x27;, &#x27;__import__&#x27;, &#x27;__loader__&#x27;, &#x27;__name__&#x27;, &#x27;__package__&#x27;, &#x27;__spec__&#x27;, &#x27;abs&#x27;, &#x27;aiter&#x27;, &#x27;all&#x27;, &#x27;anext&#x27;, &#x27;any&#x27;, &#x27;ascii&#x27;, &#x27;bin&#x27;, &#x27;bool&#x27;, &#x27;breakpoint&#x27;, &#x27;bytearray&#x27;, &#x27;bytes&#x27;, &#x27;callable&#x27;, &#x27;chr&#x27;, &#x27;classmethod&#x27;, &#x27;compile&#x27;, &#x27;complex&#x27;, &#x27;copyright&#x27;, &#x27;credits&#x27;, &#x27;delattr&#x27;, &#x27;dict&#x27;, &#x27;dir&#x27;, &#x27;divmod&#x27;, &#x27;enumerate&#x27;, &#x27;eval&#x27;, &#x27;exec&#x27;, &#x27;exit&#x27;, &#x27;filter&#x27;, &#x27;float&#x27;, &#x27;format&#x27;, &#x27;frozenset&#x27;, &#x27;getattr&#x27;, &#x27;globals&#x27;, &#x27;hasattr&#x27;, &#x27;hash&#x27;, &#x27;help&#x27;, &#x27;hex&#x27;, &#x27;id&#x27;, &#x27;input&#x27;, &#x27;int&#x27;, &#x27;isinstance&#x27;, &#x27;issubclass&#x27;, &#x27;iter&#x27;, &#x27;len&#x27;, &#x27;license&#x27;, &#x27;list&#x27;, &#x27;locals&#x27;, &#x27;map&#x27;, &#x27;max&#x27;, &#x27;memoryview&#x27;, &#x27;min&#x27;, &#x27;next&#x27;, &#x27;object&#x27;, &#x27;oct&#x27;, &#x27;open&#x27;, &#x27;ord&#x27;, &#x27;pow&#x27;, &#x27;print&#x27;, &#x27;property&#x27;, &#x27;quit&#x27;, &#x27;range&#x27;, &#x27;repr&#x27;, &#x27;reversed&#x27;, &#x27;round&#x27;, &#x27;set&#x27;, &#x27;setattr&#x27;, &#x27;slice&#x27;, &#x27;sorted&#x27;, &#x27;staticmethod&#x27;, &#x27;str&#x27;, &#x27;sum&#x27;, &#x27;super&#x27;, &#x27;tuple&#x27;, &#x27;type&#x27;, &#x27;vars&#x27;, &#x27;zip&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="包"><a href="#包" class="headerlink" title="包"></a>包</h3><p>包是一种用“点式模块名”构造 Python 模块命名空间的方法。例如，模块名 <code>A.B</code> 表示包 <code>A</code> 中名为 <code>B</code> 的子模块。正如模块可以区分不同模块之间的全局变量名称一样，点式模块名可以区分 <code>NumPy</code> 或 <code>Pillow</code> 等不同多模块包之间的模块名称</p>
<blockquote>
<p>假设要为统一处理声音文件与声音数据设计一个模块集（“包”）。声音文件的格式很多（通常以扩展名来识别，例如：.wav， .aiff， .au），因此，为了不同文件格式之间的转换，需要创建和维护一个不断增长的模块集合。为了实现对声音数据的不同处理（例如，混声、添加回声、均衡器功能、创造人工立体声效果），还要编写无穷无尽的模块流。下面这个分级文件树展示了这个包的架构</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">sound/                          Top-level package</span><br><span class="line">      __init__.py               Initialize the sound package</span><br><span class="line">      formats/                  Subpackage for file format conversions</span><br><span class="line">              __init__.py</span><br><span class="line">              wavread.py</span><br><span class="line">              wavwrite.py</span><br><span class="line">              aiffread.py</span><br><span class="line">              aiffwrite.py</span><br><span class="line">              auread.py</span><br><span class="line">              auwrite.py</span><br><span class="line">              ...</span><br><span class="line">      effects/                  Subpackage for sound effects</span><br><span class="line">              __init__.py</span><br><span class="line">              echo.py</span><br><span class="line">              surround.py</span><br><span class="line">              reverse.py</span><br><span class="line">              ...</span><br><span class="line">      filters/                  Subpackage for filters</span><br><span class="line">              __init__.py</span><br><span class="line">              equalizer.py</span><br><span class="line">              vocoder.py</span><br><span class="line">              karaoke.py</span><br><span class="line">              ...</span><br></pre></td></tr></table></figure>
<p>导入包时，Python 搜索 <code>sys.path</code> 里的目录，查找包的子目录  </p>
<p>Python 只把含 <code>__init__.py</code>  文件的目录当成包。这样可以防止 string 等通用名称命名的目录，无意中屏蔽出现在后方模块搜索路径中的有效模块。最简情况下，<code>__init__.py</code> 只是一个空文件，但该文件也可以执行包的初始化代码，或设置 <code>__all__</code> 变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从包中导入单个模块</span></span><br><span class="line"><span class="keyword">import</span> sound.effects.echo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这种方式加载子模块 sound.effects.echo，引用时必须使用子模块的全名</span></span><br><span class="line">sound.effects.echo.echofilter(<span class="built_in">input</span>, output, delay=<span class="number">0.7</span>, atten=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 另一种导入子模块的方法</span></span><br><span class="line"><span class="keyword">from</span> sound.effects <span class="keyword">import</span> echo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这种方式加载子模块 echo，不加包前缀也可以使用</span></span><br><span class="line">echo.echofilter(<span class="built_in">input</span>, output, delay=<span class="number">0.7</span>, atten=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># import 语句的另一种变体是直接导入所需的函数或变量</span></span><br><span class="line"><span class="keyword">from</span> sound.effects.echo <span class="keyword">import</span> echofilter</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这样也会加载子模块 echo，但可以直接使用函数 echofilter()</span></span><br><span class="line">echofilter(<span class="built_in">input</span>, output, delay=<span class="number">0.7</span>, atten=<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p>使用 <code>from package import item</code> 时，item 可以是包的子模块（或子包），也可以是包中定义的函数、类或变量等其他名称。<code>import</code> 语句首先测试包中是否定义了 item；如果未在包中定义，则假定 item 是模块，并尝试加载。如果找不到 item，则触发 <code>ImportError</code> 异常  </p>
<p>相反，使用 <code>import item.subitem.subsubitem</code> 句法时，除最后一项外，每个 item 都必须是包；最后一项可以是模块或包，但不能是上一项中定义的类、函数或变量</p>
<h4 id="从包中导入"><a href="#从包中导入" class="headerlink" title="从包中导入 *"></a>从包中导入 *</h4><p>import 语句使用如下惯例：如果包的 <code>__init__.py</code> 代码定义了列表 <code>__all__</code>，运行 <code>from package import *</code> 时，它就是用于导入的模块名列表。发布包的新版本时，包的作者应更新此列表。如果包的作者认为没有必要在包中执行导入 * 操作，也可以不提供此列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">__all__ = [<span class="string">&#x27;echo&#x27;</span>, <span class="string">&#x27;surround&#x27;</span>, <span class="string">&#x27;reverse&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sound.effects <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 将导入上述三项</span></span><br></pre></td></tr></table></figure>
<h3 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h3><p>我们把变量从内存中变成可存储或传输的过程称之为序列化，python 提供了 <code>pickle</code>，<code>json</code>  模块来实现序列化。<code>json</code> 是一个文本序列化格式，而 <code>pickle</code> 是一个二进制序列化格式</p>
<h4 id="pickle"><a href="#pickle" class="headerlink" title="pickle"></a>pickle</h4><p><code>pickle</code> 实现了对一个 Python 对象结构的二进制序列化和反序列化。要序列化某个包含层次结构的对象，只需要调用 <code>dumps()</code> 函数即可。同样，要反序列化数据流，可以调用 <code>loads()</code> 函数。但是，如果要对序列化和反序列化加以更多的控制，可以分别创建 <code>Pickler</code> 或 <code>Unpickler</code> 对象。pickling (和 unpickling) 也被称为“序列化”，“编组”，“平面化”。而为了避免混乱，此处采用术语“封存”和“解封”</p>
<h5 id="dump-dumps"><a href="#dump-dumps" class="headerlink" title="dump(), dumps()"></a>dump(), dumps()</h5><ul>
<li><code>dump()</code> 方法将对象封存后写入已打开的 file object 文件</li>
<li><code>dumps()</code> 方法将对象封存以后作为 bytes 类型直接返回，而不是将其写入到文件</li>
</ul>
<p>语法格式</p>
<ul>
<li><code>pickle.dump(obj, file, protocol=None, *, fix_imports=True, buffer_callback=None)</code></li>
<li><p><code>pickle.dumps(obj, protocol=None, * fix_imports=True, buffer_callback=None)</code></p>
</li>
<li><p>obj：需要封存的对象</p>
</li>
<li>file：参数 file 必须有一个 <code>write()</code> 方法，该 <code>write()</code> 方法要能接收字节作为其唯一参数。因此，它可以是一个打开的磁盘文件（用于写入二进制内容），也可以是一个 <code>io.BytesIO</code> 实例，也可以是满足这一接口的其他任何自定义对象</li>
<li>protocol：可选参数，是一个整数，告知 <code>Pickler</code> 使用指定的协议，可选择的协议范围从 0 到 <code>HIGHEST_PROTOCOL</code>。如果没有指定，这一参数默认值为 <code>DEFAULT_PROTOCOL</code>。指定一个负数就相当于指定 <code>HIGHEST_PROTOCOL</code></li>
<li>fix_imports：如果 fix_imports 为 True 且 protocol 小于 3，pickle 将尝试将 Python3 中的新名称映射到 Python2 中的旧模块名称，因此 Python2 也可以读取封存的数据流</li>
<li>buffer_callback<ul>
<li>如果 buffer_callback 为 None（默认情况），缓冲区视图（buffer view）将会作为 pickle 流的一部分被序列化到 file 中</li>
<li>如果 buffer_callback 不为 None，那它可以用缓冲区视图调用任意次。如果某次调用返回了 False 值（例如 None），则给定的缓冲区是带外的，否则缓冲区是带内的</li>
<li>如果 buffer_callback 不是 None 且 protocol 是 None 或小于5，就会出错</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;I love you&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"><span class="comment"># I love you</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化为二进制</span></span><br><span class="line"><span class="built_in">print</span>(pickle.dumps(s))</span><br><span class="line"><span class="comment"># b&#x27;\x80\x04\x95\x0e\x00\x00\x00\x00\x00\x00\x00\x8c\nI love you\x94.&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 直接存入文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    pickle.dump(s, f)</span><br></pre></td></tr></table></figure>
<h5 id="load-loads"><a href="#load-loads" class="headerlink" title="load(), loads()"></a>load(), loads()</h5><ul>
<li><code>load()</code> 方法从已打开的 file object 文件中读取封存后的对象，重建其中特定对象的层次结构并返回</li>
<li><code>loads()</code> 方法重建并返回一个对象的封存表示形式 data 的对象层级结构。data 必须为 bytes-like object</li>
</ul>
<p>语法格式</p>
<ul>
<li><code>pickle.load(file, *, fix_imports=True, encoding=&quot;ASCII&quot;, errors=&quot;strict&quot;, buffers=None)</code></li>
<li><p><code>pickle.loads(data, /, *, fix_imports=True, encoding=&quot;ASCII&quot;, errors=&quot;strict&quot;, buffers=None)</code></p>
</li>
<li><p>Pickle 协议版本是自动检测出来的，所以不需要参数来指定协议</p>
</li>
<li>fix_imports：如果 fix_imports 为 True，则 pickle 将尝试将旧的 Python2 名称映射到 Python3 中对应的新名称</li>
<li>encoding，errors：告知 pickle 如何解码 Python2 存储的 8 位字符串实例。这两个参数默认值为 “ASCII” 和 “strict”，encoding 参数可设置为 ‘bytes’ 来将这些 8 位字符串实例读取为字节对象</li>
<li>buffers 同上</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;What&#x27;s your name&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化为二进制</span></span><br><span class="line">data = pickle.dumps(s)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"><span class="comment"># b&quot;\x80\x04\x95\x14\x00\x00\x00\x00\x00\x00\x00\x8c\x10What&#x27;s your name\x94.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 直接存入文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    pickle.dump(s, f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解封</span></span><br><span class="line"><span class="built_in">print</span>(pickle.loads(data))</span><br><span class="line"><span class="comment"># What&#x27;s your name</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f2:</span><br><span class="line">    s2 = pickle.load(f2)</span><br><span class="line"><span class="built_in">print</span>(s2)</span><br><span class="line"><span class="comment"># What&#x27;s your name</span></span><br></pre></td></tr></table></figure>
<h4 id="json"><a href="#json" class="headerlink" title="json"></a>json</h4><p>如果我们要在不同的编程语言之间传递对象，就必须把对象序列化为标准格式，比如 XML，但更好的方法是序列化为 Json，因为 Json 表示出来就是一个字符串，可以被所有语言读取，也可以方便地存储到磁盘或者通过网络传输。Json 不仅是标准格式，并且比 XML 更快，而且可以直接在 Web 页面中读取，非常方便<br>Json 表示的对象就是标准的 JavaScript 语言的对象， Json 和 Python 内置的数据类型对应如下</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Json 类型</th>
<th style="text-align:center">Python 类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">{}</td>
<td style="text-align:center">dict</td>
</tr>
<tr>
<td style="text-align:center">[]</td>
<td style="text-align:center">list</td>
</tr>
<tr>
<td style="text-align:center">“string”</td>
<td style="text-align:center">str</td>
</tr>
<tr>
<td style="text-align:center">1234.56</td>
<td style="text-align:center">int 或 float</td>
</tr>
<tr>
<td style="text-align:center">true/ false</td>
<td style="text-align:center">True/ False</td>
</tr>
<tr>
<td style="text-align:center">null</td>
<td style="text-align:center">None</td>
</tr>
</tbody>
</table>
</div>
<h5 id="dump-dumps-1"><a href="#dump-dumps-1" class="headerlink" title="dump(), dumps()"></a>dump(), dumps()</h5><ul>
<li><code>dump()</code> 将对象序列化为 Json 格式化流形式的 fp（支持 <code>.write()</code> 的 file-like object）</li>
<li><code>dumps()</code> 将对象序列化为 Json 格式的 str</li>
</ul>
<p>语法格式</p>
<ul>
<li><code>json.dump(obj, fp, *, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, default=None, sort_keys=False, **kw)</code></li>
<li><p><code>json.dumps(obj, *, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, default=None, sort_keys=False, **kw)</code></p>
</li>
<li><p>obj：需要被序列化的对象</p>
</li>
<li>fp：支持 <code>.write()</code> 的 file-like object。json 模块始终产生 str 对象而非 bytes 对象。因此 <code>fp.write()</code> 必须支持 str 输入</li>
<li>skipkeys：默认为 False，为 True 时那些不是基本对象（包括 str, int, float, bool, None）的字典的键会被跳过，否则引发一个 <code>TypeError</code></li>
<li>ensure_ascii：默认为 True，输出保证将所有输入的非 ASCII 字符转义。如果为 False，这些字符会原样输出</li>
<li>check_circular：默认为 False，为 True时容器类型的循环引用检查将被跳过，循环引用将导致 <code>RecursionError</code></li>
<li>allow_nan：默认为 True，为 False 时在对严格 Json 规格范围外的 float 类型值（nan, inf, -inf）进行序列化时会引发一个 <code>ValueError</code>。为 True 时使用它们的 JavaScript 等价形式（<code>NaN</code>, <code>Infinity</code>, <code>-Infinity</code>）</li>
<li>cls：为了使用一个自定义的 <code>JSONEncoder</code> 子类，通过 cls 关键字参数来指定</li>
<li>indent：如果 indent 是一个非负整数或者字符串，那么 JSON 数组元素和对象成员会被美化输出为该值指定的缩进等级。如果缩进等级为零、负数或者 “”，则只会添加换行符。 None（默认值）选择最紧凑的表达。使用一个正整数会让每一层缩进同样数量的空格。如果 indent 是一个字符串（比如 <code>\t</code>）那个字符串会被用于缩进每一层</li>
<li>separators：当被指定时，separators 应当是一个 <code>(item_separator, key_separator)</code> 元组。当 indent 为 None 时，默认值取 <code>(&#39;, &#39;, &#39;: &#39;)</code>，否则取 <code>(&#39;,&#39;, &#39;: &#39;)</code>。为了得到最紧凑的 JSON 表达式，你应该指定其为 <code>(&#39;,&#39;, &#39;:&#39;)</code> 以消除空白字符</li>
<li>default：当 default 被指定时，其应该是一个函数，每当某个对象无法被序列化时它会被调用。它应该返回该对象的一个可以被 JSON 编码的版本或者引发一个 <code>TypeError</code>。如果没有被指定，则会直接引发 <code>TypeError</code></li>
<li>sort_keys：如果 sort_keys 是 True（默认为 False），那么字典的输出会以键的顺序排序</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;Score&#x27;</span>: <span class="number">90</span>, <span class="string">&#x27;list&#x27;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]&#125;</span><br><span class="line">data = json.dumps(dict1)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"><span class="comment"># &#123;&quot;name&quot;: &quot;Bob&quot;, &quot;age&quot;: 20, &quot;Score&quot;: 90, &quot;list&quot;: [1, 2, 3, 4]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data, f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;&#123;\&quot;name\&quot;: \&quot;Bob\&quot;, \&quot;age\&quot;: 20, \&quot;Score\&quot;: 90, \&quot;list\&quot;: [1, 2, 3, 4]&#125;&quot;</span></span><br></pre></td></tr></table></figure>
<h5 id="load-loads-1"><a href="#load-loads-1" class="headerlink" title="load(), loads()"></a>load(), loads()</h5><ul>
<li><code>load()</code> 方法将 fp 反序列化为一个 Python 对象</li>
<li><code>loads()</code> 方法将 s （一个包含 Json 文档的 str, bytes 或 bytearray 实例）反序列化为 Python 对象</li>
</ul>
<p>语法格式</p>
<ul>
<li><code>json.load(fp, *, cls=None, object_hook=None, parse_float=None, parse_int=None, Parse_constant=None, object_pairs_hook=None,**kw)</code></li>
<li><p><code>json.loads(s, *, cls=None, object_hook=None, parse_float=None, parse_int=None, parse_constant=None, object_pairs_hook=None, **kw)</code></p>
</li>
<li><p>fp：一个支持 <code>.read()</code> 并包含一个 Json 文档的 text file 或者 binary file</p>
</li>
<li>cls：要使用自定义的 <code>JSONDecoder</code> 子类，用 cls 指定他；否则使用 <code>JSONDecoder</code></li>
<li>object_hook：是一个可选的函数，它会被调用于每一个解码出的对象字面量（即一个dict）。其返回值会取代原本的 dict，这一特性能够被用于实现自定义解码器</li>
<li>object_pairs_hook：是一个可选的函数，它会被调用于每一个有序列表对解码出的对象字面量。 object_pairs_hook 的返回值将会取代原本的 dict。这一特性能够被用于实现自定义解码器。如果 object_hook 也被定义， object_pairs_hook 优先</li>
<li>parse_float：如果指定，将于每个要解码 Json 浮点数的字符串一同调用。默认状态下，相当于 float(num_str)。可以用于对 Json 浮点数使用其他数据类型的语法分析程序</li>
<li>parse_int：如果指定，将与每个要解码 Json 整数的字符串一同调用。默认状态下，相当于 int(num_str)。可以用于对 Json 整数使用其他数据类型的语法分析程序</li>
<li>parse_constant：如果指定，将要与以下字符串中的一个一同调用：<code>-Infinity</code>, <code>Infinity</code>, <code>NaN</code>。如果遇到无效的 Json 数字则可以使用它引发异常</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;Score&#x27;</span>: <span class="number">90</span>, <span class="string">&#x27;list&#x27;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]&#125;</span><br><span class="line">data = json.dumps(dict1)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"><span class="comment"># &#123;&quot;name&quot;: &quot;Bob&quot;, &quot;age&quot;: 20, &quot;Score&quot;: 90, &quot;list&quot;: [1, 2, 3, 4]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data, f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;&#123;\&quot;name\&quot;: \&quot;Bob\&quot;, \&quot;age\&quot;: 20, \&quot;Score\&quot;: 90, \&quot;list\&quot;: [1, 2, 3, 4]&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 反序列化</span></span><br><span class="line">s2 = json.loads(data)</span><br><span class="line"><span class="built_in">print</span>(s2)</span><br><span class="line"><span class="comment"># &#123;&#x27;name&#x27;: &#x27;Bob&#x27;, &#x27;age&#x27;: 20, &#x27;Score&#x27;: 90, &#x27;list&#x27;: [1, 2, 3, 4]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f2:</span><br><span class="line">    s3 = json.load(f2)</span><br><span class="line"><span class="built_in">print</span>(s3)</span><br><span class="line"><span class="comment"># &#123;&#x27;name&#x27;: &#x27;Bob&#x27;, &#x27;age&#x27;: 20, &#x27;Score&#x27;: 90, &#x27;list&#x27;: [1, 2, 3, 4]&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><p>该模块提供了对 C 标准定义的数学函数的访问。这些函数不适用于复数；如果需要计算复数，可以使用 cmath 模块中的同名函数。该模块的返回值如无特殊说明，均为浮点数</p>
<h4 id="math-ceil-x"><a href="#math-ceil-x" class="headerlink" title="math.ceil(x)"></a>math.ceil(x)</h4><p>返回 x 的上限，即大于或者等于 x 的最小整数。如果 x 不是一个浮点数，则委托 <code>x.__ceil__()</code> 返回一个 Integral 类的值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line">num = <span class="number">7.5</span></span><br><span class="line">res = math.ceil(num)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"><span class="comment"># 8</span></span><br></pre></td></tr></table></figure>
<h4 id="math-floor-x"><a href="#math-floor-x" class="headerlink" title="math.floor(x)"></a>math.floor(x)</h4><p>返回 x 的向下取整，小于或等于 x 的最大整数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line">num = <span class="number">10.6875</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(math.floor(num))</span><br><span class="line"><span class="comment"># 10</span></span><br></pre></td></tr></table></figure>
<h4 id="math-comb-n-k"><a href="#math-comb-n-k" class="headerlink" title="math.comb(n, k)"></a>math.comb(n, k)</h4><p>返回不重复且无顺序地从 n 项中选择 k 项的方式总数。当 <code>k &lt;= n</code> 时取值为 <code>n! / (k! * (n-k)!)</code>；当 <code>k&gt;n</code> 时取值为零。也称为二项式系数，因为它等价于表达式 <code>(1+x)**n</code> 的多项式展开中第 k 项的系数。如果任一参数不为整数则会引发 TypeError。如果任一参数为复数则会引发 ValueError</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># 要选择的项目数量</span></span><br><span class="line">n = <span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 要选择的可能性数目</span></span><br><span class="line">k = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可能的组合总数</span></span><br><span class="line"><span class="built_in">print</span>(math.comb(<span class="number">7</span>, <span class="number">5</span>))</span><br><span class="line"><span class="comment"># 21</span></span><br></pre></td></tr></table></figure>
<h4 id="math-pow-x-y"><a href="#math-pow-x-y" class="headerlink" title="math.pow(x, y)"></a>math.pow(x, y)</h4><p>将返回 x 的 y 次幂。<code>pow(1.0, x)</code> 和 <code>pow(x, 0.0)</code> 总是返回 1.0，即使 x 是零或 NaN。如果 x 和 y 都是有限的，x 是负数，y 不是整数那么 <code>pow(x, y)</code> 是未定义的，并且引发 ValueError</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(math.<span class="built_in">pow</span>(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="comment"># 81.0</span></span><br></pre></td></tr></table></figure>
<h4 id="math-exp-x"><a href="#math-exp-x" class="headerlink" title="math.exp(x)"></a>math.exp(x)</h4><ul>
<li>返回 e 次 x 幂，其中 e = 2.718281…是自然对数的基数。这通常比 <code>math.e ** x</code> 或 <code>pow(math.e, x)</code> 更精确</li>
<li><code>math.expm1(x)</code> 返回 e 的 x 次幂，减 1</li>
</ul>
<h4 id="math-sqrt-x"><a href="#math-sqrt-x" class="headerlink" title="math.sqrt(x)"></a>math.sqrt(x)</h4><p>返回 x 的平方根</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(math.sqrt(<span class="number">2</span>))</span><br><span class="line"><span class="comment"># 1.4142135623730951</span></span><br></pre></td></tr></table></figure>
<h4 id="math-fabs-x"><a href="#math-fabs-x" class="headerlink" title="math.fabs(x)"></a>math.fabs(x)</h4><p>返回 x 的绝对值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(math.fabs(-<span class="number">3.14</span>))</span><br><span class="line"><span class="comment"># 3.14</span></span><br></pre></td></tr></table></figure>
<h4 id="math-modf"><a href="#math-modf" class="headerlink" title="math.modf"></a>math.modf</h4><p>返回 x 的小数和整数部分。两个结果都带有 x 的符号并且是浮点数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(math.modf(<span class="number">75.1423</span>))</span><br><span class="line"><span class="comment"># (0.14230000000000587, 75.0)</span></span><br></pre></td></tr></table></figure>
<h4 id="math-copysign-x-y"><a href="#math-copysign-x-y" class="headerlink" title="math.copysign(x, y)"></a>math.copysign(x, y)</h4><p>返回一个基于 x 的绝对值和 y 的符号的浮点数。在支持带符号零的平台上，<code>copysign(1.0, -0.0)</code> 返回 -1.0</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(math.copysign(<span class="number">21</span>, -<span class="number">8</span>))</span><br><span class="line"><span class="comment"># -21.0</span></span><br></pre></td></tr></table></figure>
<h4 id="math-fsum-iterable"><a href="#math-fsum-iterable" class="headerlink" title="math.fsum(iterable)"></a>math.fsum(iterable)</h4><p>返回迭代中的精确浮点值。通过跟踪多个中间部分和来避免精度损失</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>([<span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>]))</span><br><span class="line"><span class="comment"># 0.9999999999999999</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(math.fsum([<span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>]))</span><br><span class="line"><span class="comment"># 1.0</span></span><br></pre></td></tr></table></figure>
<h4 id="math-factorial-x"><a href="#math-factorial-x" class="headerlink" title="math.factorial(x)"></a>math.factorial(x)</h4><p>以一个整数返回 x 的阶乘。如果 x 不是整数或为负数时则引发 ValueError</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(math.factorial(<span class="number">5</span>))</span><br><span class="line"><span class="comment"># 120</span></span><br></pre></td></tr></table></figure>
<h3 id="Random"><a href="#Random" class="headerlink" title="Random"></a>Random</h3><p>该模块实现了各种分布的伪随机数生成器</p>
<h4 id="random-randbytes-n"><a href="#random-randbytes-n" class="headerlink" title="random.randbytes(n)"></a>random.randbytes(n)</h4><p>生成 n 个随机字节。此方法不可用于生成安全凭据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.randbytes(i))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">b&#x27;&#x27;</span></span><br><span class="line"><span class="string">b&#x27;\xb5&#x27;</span></span><br><span class="line"><span class="string">b&#x27;\xf0\x8a&#x27;</span></span><br><span class="line"><span class="string">b&#x27;\xf7&#123;\xb9&#x27;</span></span><br><span class="line"><span class="string">b&#x27;u\x0e\x8b\xce&#x27;</span></span><br><span class="line"><span class="string">b&#x27;=k/\x93\x18&#x27;</span></span><br><span class="line"><span class="string">b&#x27;\xbf\x86\xc2\xb1\xbd\xd8&#x27;</span></span><br><span class="line"><span class="string">b&#x27;n\xc2|$\xd2Z\x81&#x27;</span></span><br><span class="line"><span class="string">b&#x27;\x0c\x14\xe1O\x05\x97l\x80&#x27;</span></span><br><span class="line"><span class="string">b&#x27;\xc7\xde\xbf!\xbf\xab,u0&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="random-randrange-start-stop-step"><a href="#random-randrange-start-stop-step" class="headerlink" title="random.randrange(start, stop[, step])"></a>random.randrange(start, stop[, step])</h4><p>返回指定递增基数集合中的一个随机整数，基数默认值为 1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># randrange(stop)</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.randrange(<span class="number">10</span>), end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="comment"># 7 2 5 3 2 7 7 9 1 8 5</span></span><br><span class="line"><span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># randrange(start, stop[, step])</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.randrange(<span class="number">5</span>, <span class="number">10</span>), end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="comment"># 7 5 5 9 8 5 7 9 6 8 </span></span><br><span class="line"><span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.randrange(<span class="number">5</span>, <span class="number">10</span>, <span class="number">2</span>), end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 5 5 7 7 5 5 9 5 7 9 </span></span><br><span class="line"><span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.randrange(<span class="number">5</span>, <span class="number">10</span>, <span class="number">3</span>), end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 8 8 5 8 8 8 5 5 8 5</span></span><br></pre></td></tr></table></figure>
<h4 id="random-randint-a-b"><a href="#random-randint-a-b" class="headerlink" title="random.randint(a, b)"></a>random.randint(a, b)</h4><p>返回随机整数 N 满足 <code>a &lt;= N &lt;= b</code>。相当于 <code>randrange(a, b+1)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.randint(<span class="number">0</span>, <span class="number">10</span>), end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="comment"># 5 6 9 3 0 0 1 5 10 10</span></span><br></pre></td></tr></table></figure>
<h4 id="random-random"><a href="#random-random" class="headerlink" title="random.random()"></a>random.random()</h4><p>返回一个 [0.0, 1.0) 范围内的一个随机浮点数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.random())</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0.2449052297866442</span></span><br><span class="line"><span class="string">0.05254469870580114</span></span><br><span class="line"><span class="string">0.444038560774782</span></span><br><span class="line"><span class="string">0.6984477491825681</span></span><br><span class="line"><span class="string">0.9284087374645925</span></span><br><span class="line"><span class="string">0.2196960126973483</span></span><br><span class="line"><span class="string">0.9818508657463422</span></span><br><span class="line"><span class="string">0.6026416384408736</span></span><br><span class="line"><span class="string">0.950494170394666</span></span><br><span class="line"><span class="string">0.054093248937237326</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="random-uniform-a-b"><a href="#random-uniform-a-b" class="headerlink" title="random.uniform(a, b)"></a>random.uniform(a, b)</h4><p>返回一个随机浮点数 N，当 <code>a &lt;= b</code> 时 <code>a &lt;= N &lt;= b</code>，当 <code>b &lt; a</code> 时 <code>b &lt;= N &lt;= a</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.uniform(<span class="number">5</span>, <span class="number">10</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">6.960083845819047</span></span><br><span class="line"><span class="string">8.0499197740427</span></span><br><span class="line"><span class="string">7.632114065282217</span></span><br><span class="line"><span class="string">9.831034345255565</span></span><br><span class="line"><span class="string">6.7964573951456035</span></span><br><span class="line"><span class="string">8.339868953243567</span></span><br><span class="line"><span class="string">6.988441556510773</span></span><br><span class="line"><span class="string">9.116358356408721</span></span><br><span class="line"><span class="string">9.940489801763544</span></span><br><span class="line"><span class="string">8.310169708257082</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-----------&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.uniform(<span class="number">10</span>, <span class="number">5</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">9.250325166219142</span></span><br><span class="line"><span class="string">7.962167891506429</span></span><br><span class="line"><span class="string">8.7520739401349</span></span><br><span class="line"><span class="string">5.44676306855829</span></span><br><span class="line"><span class="string">8.351795145578466</span></span><br><span class="line"><span class="string">7.698014727562319</span></span><br><span class="line"><span class="string">8.78132686819255</span></span><br><span class="line"><span class="string">7.041707186177215</span></span><br><span class="line"><span class="string">8.579927268534604</span></span><br><span class="line"><span class="string">6.431546663529902</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="random-choice-seq"><a href="#random-choice-seq" class="headerlink" title="random.choice(seq)"></a>random.choice(seq)</h4><p>从非空序列 seq 返回一个随机元素。如果 seq 为空，则引发 IndexError</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(random.choice(<span class="built_in">range</span>(<span class="number">10</span>, <span class="number">17</span>)))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">11</span></span><br><span class="line"><span class="string">10</span></span><br><span class="line"><span class="string">12</span></span><br><span class="line"><span class="string">16</span></span><br><span class="line"><span class="string">11</span></span><br><span class="line"><span class="string">11</span></span><br><span class="line"><span class="string">15</span></span><br><span class="line"><span class="string">15</span></span><br><span class="line"><span class="string">14</span></span><br><span class="line"><span class="string">13</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="random-shuffle-x-random"><a href="#random-shuffle-x-random" class="headerlink" title="random.shuffle(x[, random])"></a>random.shuffle(x[, random])</h4><p>将序列 x 随机打乱位置。可选参数 random 是一个 0 参数函数，在 [0.0, 1.0) 中随机返回浮点数，默认情况下，这是函数 <code>random()</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">l = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    random.shuffle(l)</span><br><span class="line">    <span class="built_in">print</span>(l)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">[2, 3, 5, 1, 4]</span></span><br><span class="line"><span class="string">[4, 3, 2, 5, 1]</span></span><br><span class="line"><span class="string">[5, 1, 2, 4, 3]</span></span><br><span class="line"><span class="string">[4, 1, 3, 2, 5]</span></span><br><span class="line"><span class="string">[2, 3, 4, 1, 5]</span></span><br><span class="line"><span class="string">[4, 1, 3, 2, 5]</span></span><br><span class="line"><span class="string">[4, 5, 3, 1, 2]</span></span><br><span class="line"><span class="string">[1, 4, 3, 5, 2]</span></span><br><span class="line"><span class="string">[2, 4, 5, 3, 1]</span></span><br><span class="line"><span class="string">[5, 4, 1, 2, 3]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="random-sample-population-k-counts-None"><a href="#random-sample-population-k-counts-None" class="headerlink" title="random.sample(population, k, *, counts=None)"></a>random.sample(population, k, *, counts=None)</h4><p>返回从总体序列或集合中选择的唯一元素的 k 长度列表。用于无重复的随机抽样</p>
<p>语法格式</p>
<p><code>random.sample(population, k, *, counts=None)</code></p>
<ul>
<li>重复的元素可以一个个地直接列出，或使用可选的仅限关键字形参 counts 来指定。例如 <code>sample([&#39;red&#39;, &#39;blue&#39;], counts=[4,2], k=5)</code> 等价于 <code>sample([&#39;red&#39;,&#39;red&#39;,&#39;red&#39;,&#39;red&#39;,&#39;blue&#39;,&#39;blue&#39;], k=5)</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">l = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;white&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">exec</span>(<span class="string">&quot;print(random.sample(l, &#123;0&#125;))&quot;</span>.<span class="built_in">format</span>(i <span class="keyword">if</span> i &lt; <span class="number">5</span> <span class="keyword">else</span> <span class="number">5</span>))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">[]</span></span><br><span class="line"><span class="string">[&#x27;orange&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;green&#x27;, &#x27;orange&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;white&#x27;, &#x27;red&#x27;, &#x27;blue&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;blue&#x27;, &#x27;orange&#x27;, &#x27;white&#x27;, &#x27;green&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;white&#x27;, &#x27;red&#x27;, &#x27;green&#x27;, &#x27;orange&#x27;, &#x27;blue&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;green&#x27;, &#x27;white&#x27;, &#x27;orange&#x27;, &#x27;blue&#x27;, &#x27;red&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;orange&#x27;, &#x27;blue&#x27;, &#x27;white&#x27;, &#x27;green&#x27;, &#x27;red&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;blue&#x27;, &#x27;green&#x27;, &#x27;red&#x27;, &#x27;orange&#x27;, &#x27;white&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;orange&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;white&#x27;, &#x27;red&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="random-seed-a-None-version-2"><a href="#random-seed-a-None-version-2" class="headerlink" title="random.seed(a=None, version=2)"></a>random.seed(a=None, version=2)</h4><p>初始化随机数生成器。如果 a 被省略或为 None，则使用当前系统时间。如果操作系统提供随机源，则使用它们而不是系统时间。如果 a 是 int 类型，则直接使用  </p>
<p>对于版本 2（默认），str、 bytes 或 bytearray 对象转换为 int 并使用它的所有位<br>对于版本 1，用于 str 和 bytes 的算法生成更窄的种子范围</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;使用默认种子生成随机数：&quot;</span>, random.random())</span><br><span class="line"><span class="comment"># 使用默认种子生成随机数： 0.1307650987426362</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;使用默认种子生成随机数：&quot;</span>, random.random())</span><br><span class="line"><span class="comment"># 使用默认种子生成随机数： 0.12566655822572803</span></span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;使用整数 10 种子生成随机数：&quot;</span>, random.random())</span><br><span class="line"><span class="comment"># 使用整数 10 种子生成随机数： 0.5714025946899135</span></span><br><span class="line">random.seed(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;使用整数 10 种子生成随机数：&quot;</span>, random.random())</span><br><span class="line"><span class="comment"># 使用整数 10 种子生成随机数： 0.5714025946899135</span></span><br><span class="line"></span><br><span class="line">random.seed(<span class="string">&quot;hello&quot;</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;使用字符串种子生成随机数：&quot;</span>, random.random())</span><br><span class="line"><span class="comment"># 使用字符串种子生成随机数： 0.3537754404730722</span></span><br><span class="line">random.seed(<span class="string">&quot;hello&quot;</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;使用字符串种子生成随机数：&quot;</span>, random.random())</span><br><span class="line"><span class="comment"># 使用字符串种子生成随机数： 0.3537754404730722</span></span><br></pre></td></tr></table></figure>
<h3 id="OS"><a href="#OS" class="headerlink" title="OS"></a>OS</h3><p>os 模块提供了一种使用与操作系统相关的功能的便捷式途径</p>
<h4 id="os-access"><a href="#os-access" class="headerlink" title="os.access()"></a>os.access()</h4><p>该方法使用当前的 uid/gid 尝试访问路径。大部分操作使用有效的 uid/gid，因此运行环境可以在 suid/sgid 环境尝试</p>
<p>语法格式</p>
<p><code>os.access(path, mode)</code></p>
<ul>
<li>path：要用来检测是否有访问权限的路径</li>
<li>mode：mode 为 <code>F_OK</code>，测试存在的路径，或者它可以是包含 <code>R_OK</code>, <code>W_OK</code> 和 <code>X_OK</code> 或者 <code>R_OK</code>, <code>W_OK</code> 和 <code>X_OK</code> 其中之一或者更多<ul>
<li><code>os.F_OK</code>：测试 path 是否存在</li>
<li><code>os.R_OK</code>：测试 path 是否可读</li>
<li><code>os.W_OK</code>：测试 path 是否可写</li>
<li><code>os.X_OK</code>：测试 path 是否可执行</li>
</ul>
</li>
<li>返回值：如果允许访问返回 True，否则返回 False</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假定 /tmp/foo.txt 文件存在，并有读写权限</span></span><br><span class="line"></span><br><span class="line">ret = os.access(<span class="string">&quot;/tmp/foo.txt&quot;</span>, os.F_OK)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;F_OK - 返回值 %s&quot;</span> % ret)</span><br><span class="line"><span class="comment"># F_OK - 返回值 True</span></span><br><span class="line"></span><br><span class="line">ret = os.access(<span class="string">&quot;/tmp/foo.txt&quot;</span>, os.R_OK)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;R_OK - 返回值 %s&quot;</span> % ret)</span><br><span class="line"><span class="comment"># R_OK - 返回值 True</span></span><br><span class="line"></span><br><span class="line">ret = os.access(<span class="string">&quot;/tmp/foo.txt&quot;</span>, os.W_OK)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;W_OK - 返回值 %s&quot;</span> % ret)</span><br><span class="line"><span class="comment"># W_OK - 返回值 True</span></span><br><span class="line"></span><br><span class="line">ret = os.access(<span class="string">&quot;/tmp/foo.txt&quot;</span>, os.X_OK)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;X_OK - 返回值 %s&quot;</span> % ret)</span><br><span class="line"><span class="comment"># X_OK - 返回值 False</span></span><br></pre></td></tr></table></figure>
<h4 id="os-getcwd"><a href="#os-getcwd" class="headerlink" title="os.getcwd()"></a>os.getcwd()</h4><p>该方法返回当前工作目录</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(os.getcwd())</span><br><span class="line"><span class="comment"># C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython</span></span><br></pre></td></tr></table></figure>
<h4 id="os-chdir"><a href="#os-chdir" class="headerlink" title="os.chdir()"></a>os.chdir()</h4><p>该方法用于改变当前工作目录到指定的路径</p>
<p>语法格式</p>
<p><code>os.chdir(path)</code></p>
<ul>
<li>path：要切换到的新路径</li>
<li>返回值：如果允许访问返回 True，否则返回 False</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">path = <span class="string">r&quot;H:\tmp&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看当前工作目录</span></span><br><span class="line">retval = os.getcwd()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当前工作目录为 %s&quot;</span> % retval)</span><br><span class="line"><span class="comment"># 当前工作目录为 C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改当前工作目录</span></span><br><span class="line">os.chdir(path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看修改后的工作目录</span></span><br><span class="line">retval = os.getcwd()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;目录修改成功 %s&quot;</span> % retval)</span><br><span class="line"><span class="comment"># 目录修改成功 H:\tmp</span></span><br></pre></td></tr></table></figure>
<h4 id="os-listdir"><a href="#os-listdir" class="headerlink" title="os.listdir()"></a>os.listdir()</h4><p>该方法用于返回指定的文件夹包含的文件或文件夹的名字的列表。这个列表以字母排序。它不包括 <code>.</code> 和 <code>..</code> 即使它在文件夹中。只支持在 Unix, Windows 下使用</p>
<p>语法格式</p>
<p><code>os.listdir(path)</code></p>
<ul>
<li>path：需要列出的目录路径</li>
<li>返回值：返回指定路径下的文件和文件夹列表</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当前工作目录</span></span><br><span class="line"><span class="built_in">print</span>(os.getcwd())</span><br><span class="line"><span class="comment"># C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件及文件夹</span></span><br><span class="line"><span class="built_in">print</span>(os.listdir())</span><br><span class="line"><span class="comment"># [&#x27;.idea&#x27;, &#x27;fibo.py&#x27;, &#x27;main.py&#x27;, &#x27;password.txt&#x27;, &#x27;test.json&#x27;, &#x27;test.txt&#x27;, &#x27;test2.txt&#x27;, &#x27;user.txt&#x27;, &#x27;__pycache__&#x27;]</span></span><br></pre></td></tr></table></figure>
<h4 id="os-mkdir"><a href="#os-mkdir" class="headerlink" title="os.mkdir()"></a>os.mkdir()</h4><p>该方法用于以数字权限模式创建目录。默认的模式为 0777。如果目录有多级，则创建最后一级，如果最后一级目录的上级目录有不存在的，则会抛出一个 OSError</p>
<p>语法格式</p>
<p><code>os.mkdir(path[, mode])</code></p>
<ul>
<li>path：要创建的目录，可以是相对或者绝对路劲</li>
<li>mode：要为目录设置的权限数字模式</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">path = <span class="string">r&#x27;C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython\newfile&#x27;</span></span><br><span class="line"></span><br><span class="line">os.mkdir(path)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;目录已创建&quot;</span>) <span class="comment"># 目录已创建</span></span><br></pre></td></tr></table></figure>
<h4 id="os-makedirs"><a href="#os-makedirs" class="headerlink" title="os.makedirs()"></a>os.makedirs()</h4><p>该方法用于递归创建多层目录。如果子目录创建失败或者已经存在，会抛出一个 OSError 异常</p>
<p>语法格式</p>
<p><code>os.makedirs(name, mode=511, exist_ok=False)</code></p>
<ul>
<li>path：需要递归创建的目录，可以是相对或者绝对路径</li>
<li>mode：权限模式，默认的模式为 511（八进制）</li>
<li>exist_ok：是否在目录存在时触发异常。如果 exist_ok 为 False（默认值），则在目标目录已存在的情况下触发 <code>FileExistsError</code>；如果 exist_ok 为 True，则在目标目录已存在的情况下不会触发 <code>FileExistsError</code> 异常</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os, sys</span><br><span class="line"></span><br><span class="line">path = <span class="string">r&#x27;C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython\newfile2&#x27;</span></span><br><span class="line"></span><br><span class="line">os.makedirs(path, <span class="number">0o777</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;路径被创建&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="os-rmdir"><a href="#os-rmdir" class="headerlink" title="os.rmdir()"></a>os.rmdir()</h4><p>该方法用于删除指定路径的目录。仅当这文件夹是空的才可以，否则，抛出 OSError</p>
<p>语法格式</p>
<p><code>os.rmdir(path)</code></p>
<ul>
<li>path：要删除的路径</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">path = <span class="string">r&#x27;C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython\newfile&#x27;</span></span><br><span class="line"></span><br><span class="line">os.rmdir(path)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;路径被删除&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="os-removedirs"><a href="#os-removedirs" class="headerlink" title="os.removedirs()"></a>os.removedirs()</h4><p>该方法用于递归删除目录。如果子文件夹成功删除，<code>removedirs()</code> 才尝试它们的父文件夹，直到抛出一个 error</p>
<p>语法格式</p>
<p><code>os.removedirs(path)</code></p>
<ul>
<li>path：要移除的目录路径</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;目录为：&#x27;</span>, os.listdir(os.getcwd()))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">目录为： [&#x27;.idea&#x27;, &#x27;fibo.py&#x27;, &#x27;main.py&#x27;, &#x27;password.txt&#x27;, &#x27;test&#x27;, &#x27;test.json&#x27;, &#x27;test.txt&#x27;, &#x27;test2.txt&#x27;, &#x27;user.txt&#x27;, &#x27;__pycache__&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">os.removedirs(<span class="string">&quot;./test/test1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;路径被删除&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="os-remove"><a href="#os-remove" class="headerlink" title="os.remove()"></a>os.remove()</h4><p>该方法用于删除指定路径的文件。如果指定的路径是一个目录，将抛出 OSError</p>
<p>语法格式</p>
<p><code>os.remove(path)</code></p>
<ul>
<li>path：要移除的文件路径</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;目录为：&#x27;</span>, os.listdir(os.getcwd()))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">目录为： [&#x27;.idea&#x27;, &#x27;fibo.py&#x27;, &#x27;main.py&#x27;, &#x27;password.txt&#x27;, &#x27;test.json&#x27;, &#x27;test.txt&#x27;, &#x27;test2.txt&#x27;, &#x27;user.txt&#x27;, &#x27;__pycache__&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">os.remove(<span class="string">&#x27;user.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;文件被删除&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="os-rename"><a href="#os-rename" class="headerlink" title="os.rename()"></a>os.rename()</h4><p>该方法用于命名文件或目录，从 src 到 dst，如果 dst 是一个存在的目录，将抛出 OSError</p>
<p>语法格式</p>
<p><code>os.rename(src, dst)</code></p>
<ul>
<li>src：要修改的文件、目录名</li>
<li>dst：修改后的文件、目录名</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;目录为：&#x27;</span>, os.listdir(os.getcwd()))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">目录为： [&#x27;.idea&#x27;, &#x27;fibo.py&#x27;, &#x27;main.py&#x27;, &#x27;password.txt&#x27;, &#x27;test.json&#x27;, &#x27;test.txt&#x27;, &#x27;test2.txt&#x27;, &#x27;__pycache__&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">os.rename(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;new_name.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;该名后：&#x27;</span>, os.listdir(os.getcwd()))</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">该名后： [&#x27;.idea&#x27;, &#x27;fibo.py&#x27;, &#x27;main.py&#x27;, &#x27;new_name.txt&#x27;, &#x27;password.txt&#x27;, &#x27;test.json&#x27;, &#x27;test2.txt&#x27;, &#x27;__pycache__&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="os-system"><a href="#os-system" class="headerlink" title="os.system()"></a>os.system()</h4><p>该方法在子外壳程序中执行一个命令。在 Unix 上，返回值为进程的退出状态，以针对 <code>wait()</code> 而指定的格式进行编码。在 Windows 上，返回值是运行 command 后系统 Shell 返回的值。该 Shell 由 Windows 环境变量 COMSPEC: 给出，通常是 cmd.exe，它会返回命令的退出状态</p>
<p>语法格式</p>
<p><code>os.system(command)</code></p>
<ul>
<li>command：需要执行的命令</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">os.system(<span class="string">&#x27;cd&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython</span></span><br></pre></td></tr></table></figure>
<h4 id="os-walk"><a href="#os-walk" class="headerlink" title="os.walk()"></a>os.walk()</h4><p>该方法可以创建一个生成器，用以生成所要查找的目录及其子目录下的所有文件。该方法用于通过在目录树中游走输出在目录中的文件名，向上或者向下</p>
<p>语法格式</p>
<p><code>os.walk(top[, topdown=True[, onerror=None[, followlinks=False]]])</code></p>
<ul>
<li>top：根目录下的每一个文件夹（包含它自己），产生 3-元组（dirpath, dirnames, filenames）【文件夹路径， 文件夹名字， 文件名】</li>
<li>topdown：可选，为 True 或者没有指定，一个目录的 3-元组将比它的任何子文件夹的 3-元组先产生（目录自上而下）。如果 topdown 为 False，一个目录的 3-元组将比它的任何子文件夹的 3-元组后产生（目录自上而下）</li>
<li>onerror：可选，是一个函数；它调用时有一个参数，一个 <code>OSError</code> 实例。报告这错误后，继续 walk，或者抛出 exception 终止 walk</li>
<li>followlinks：设置为 True，则通过软链接访问目录</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">path_1 = <span class="string">r&#x27;C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython\Test&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> tuple_3 <span class="keyword">in</span> os.walk(path_1):</span><br><span class="line">    <span class="built_in">print</span>(tuple_3)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">(&#x27;C:\\Users\\HuaJi\\Documents\\MyFiles\\Pycharm\\LearnPython\\Test&#x27;, [], [&#x27;File1.py&#x27;, &#x27;File2.txt&#x27;])</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(path_1, topdown=<span class="literal">True</span>):</span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> files:</span><br><span class="line">        <span class="built_in">print</span>(os.path.join(root, name))</span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> dirs:</span><br><span class="line">        <span class="built_in">print</span>(os.path.join(root, name))</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython\Test\File1.py</span></span><br><span class="line"><span class="string">C:\Users\HuaJi\Documents\MyFiles\Pycharm\LearnPython\Test\File2.txt</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Python3/" rel="tag"># Python3</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/02/24/Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2/" rel="prev" title="Python3 学习笔记-2">
                  <i class="fa fa-chevron-left"></i> Python3 学习笔记-2
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/04/10/Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-4/" rel="next" title="Python3学习笔记-4">
                  Python3学习笔记-4 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">花祭</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/HuaJiYa520" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
